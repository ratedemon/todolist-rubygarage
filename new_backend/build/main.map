{"version":3,"sources":["webpack:///webpack/bootstrap 0b61ddcb3699a5c087c9","webpack:///external \"dotenv\"","webpack:///external \"sequelize\"","webpack:///./node_modules/babel-runtime/regenerator/index.js","webpack:///./src/models/user/model.js","webpack:///./src/db.js","webpack:///external \"jsonwebtoken\"","webpack:///./src/index.js","webpack:///external \"koa\"","webpack:///external \"koa-morgan\"","webpack:///./src/router.js","webpack:///external \"regenerator-runtime\"","webpack:///external \"koa-router\"","webpack:///./src/models/project/model.js","webpack:///external \"koa-body\"","webpack:///external \"bcrypt\"","webpack:///./src/middleware/authMiddleware.js","webpack:///./src/models/task/model.js","webpack:///./src/controllers/user.js","webpack:///./src/controllers/project.js","webpack:///./src/controllers/task.js","webpack:///./node_modules/koa2-cors/dist/index.js"],"names":["User","db","define","id","type","Sequelize","INTEGER","primaryKey","autoIncrement","name","STRING","email","isEmail","notNull","allowNull","notEmpty","unique","password","process","env","DB_DATABASE","DB_USER","DB_PASSWORD","dialect","host","DB_HOST","port","DB_PORT","console","log","config","app","use","cors","routes","allowedMethods","logger","listen","PORT","router","koaBody","post","UserController","register","login","get","ProjectController","getProjectsWithTasks","create","put","update","delete","TaskController","updateName","changeStatus","changePosition","Project","user_id","references","model","key","deferrable","Deferrable","INITIALLY_IMMEDIATE","hasMany","foreignKey","onDelete","as","ctx","next","authorization","headers","match","throw","token","replace","jwt","verify","JWT_KEY","encode","request","body","verifyAuth","Task","status","BOOLEAN","defaultValue","position","project_id","findOne","where","user","bcrypt","compare","sign","expiresIn","hash","error","project","params","destroy","findAll","include","order","projects","task","verifyProject","task_id"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0b61ddcb3699a5c087c9","module.exports = require(\"dotenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dotenv\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"sequelize\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sequelize\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/regenerator/index.js\n// module id = 2\n// module chunks = 0","//import Joi from 'joi';\r\n//import schema from './schema';\r\nimport Sequelize from 'sequelize';\r\n\r\nimport db from '../../db.js';\r\n\r\nconst User = db.define('users', {\r\n  id: {\r\n    type: Sequelize.INTEGER,\r\n    primaryKey: true,\r\n    autoIncrement: true,\r\n  },\r\n  name: Sequelize.STRING(30),\r\n  email: {\r\n    type:Sequelize.STRING(40),\r\n    isEmail: true,\r\n    notNull: true,\r\n    allowNull: false,\r\n    notEmpty: true,\r\n    unique: true\r\n  },\r\n  password: Sequelize.STRING(70)\r\n});\r\nexport default User;\n\n\n// WEBPACK FOOTER //\n// ./src/models/user/model.js","import Sequelize from 'sequelize';\r\n\r\nconst db = new Sequelize(process.env.DB_DATABASE, process.env.DB_USER, process.env.DB_PASSWORD, {\r\n  dialect: 'postgres',\r\n  host: process.env.DB_HOST,\r\n  port: process.env.DB_PORT\r\n});\r\n\r\n// db.authenticate().then(function(errors) { console.log(errors) });\r\n\r\n// db.sync()\r\n//   .then(() => {\r\n    console.log('DB synced');\r\n  // });\r\n\r\nexport default db;\n\n\n// WEBPACK FOOTER //\n// ./src/db.js","module.exports = require(\"jsonwebtoken\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsonwebtoken\"\n// module id = 5\n// module chunks = 0","import Koa from 'koa';\r\nimport logger from 'koa-morgan';\r\nimport env from 'dotenv';\r\nimport {routes, allowedMethods} from './router';\r\nimport cors from 'koa2-cors';\r\n\r\nenv.config();\r\n\r\nconst app = new Koa();\r\napp.use(cors());\r\napp.use(routes());\r\n\r\napp.use(allowedMethods());\r\n\r\napp.use(logger('tiny')).listen(process.env.PORT, ()=>{\r\n  console.log(`Listening on port ${process.env.PORT}...`);\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = require(\"koa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"koa-morgan\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-morgan\"\n// module id = 9\n// module chunks = 0","import Router from 'koa-router';\r\nimport User from './models/user/model';\r\nimport Project from './models/project/model';\r\nimport Task from './models/task/model';\r\nimport koaBody from 'koa-body';\r\nimport env from 'dotenv';\r\nimport verifyAuth from './middleware/authMiddleware';\r\nimport UserController from './controllers/user';\r\nimport ProjectController from './controllers/project';\r\nimport TaskController from './controllers/task';\r\n\r\nenv.config();\r\n\r\nconst router = new Router();\r\n\r\nrouter.use(koaBody());\r\n\r\nrouter.post('/register', UserController.register);\r\nrouter.post('/login', UserController.login);\r\n\r\nrouter.get('/projects', verifyAuth, ProjectController.getProjectsWithTasks);\r\nrouter.post('/project', verifyAuth, ProjectController.create);\r\nrouter.put('/project', verifyAuth, ProjectController.update);\r\nrouter.delete('/project/:id', verifyAuth, ProjectController.delete);\r\n\r\nrouter.post('/task', verifyAuth, TaskController.create);\r\nrouter.put('/task', verifyAuth, TaskController.updateName);\r\nrouter.put('/task/status', verifyAuth, TaskController.changeStatus);\r\nrouter.put('/task/position', verifyAuth, TaskController.changePosition);\r\nrouter.delete('/project/:project_id/task/:task_id', verifyAuth, TaskController.delete);\r\n\r\nexport function routes() {\r\n    return router.routes();\r\n}\r\nexport function allowedMethods() {\r\n    return router.allowedMethods();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/router.js","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"koa-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-router\"\n// module id = 12\n// module chunks = 0","//import Joi from 'joi';\r\n//import schema from './schema';\r\nimport Sequelize from 'sequelize';\r\nimport db from '../../db.js';\r\nimport User from '../user/model';\r\nimport Task from '../task/model';\r\n\r\nconst Project = db.define('projects', {\r\n    id: {\r\n        type: Sequelize.INTEGER,\r\n        primaryKey: true,\r\n        autoIncrement: true,\r\n    },\r\n    name: {\r\n        type: Sequelize.STRING,\r\n        notNull: true\r\n    },\r\n    user_id: {\r\n        type: Sequelize.INTEGER,\r\n        references: {\r\n            model: User,\r\n            key: 'id',\r\n            deferrable: Sequelize.Deferrable.INITIALLY_IMMEDIATE\r\n        }\r\n    }\r\n});\r\n\r\nProject.hasMany(Task, {foreignKey: 'project_id', onDelete: 'cascade', as: 'ProjectTasks'});\r\n// Project.belongsToMany(Task, {as: \"tasks\", through: \"project_tasks\", foreignKey: 'task_id', otherKey: \"project_id\"});\r\n\r\nexport default Project;\n\n\n// WEBPACK FOOTER //\n// ./src/models/project/model.js","module.exports = require(\"koa-body\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-body\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"bcrypt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bcrypt\"\n// module id = 15\n// module chunks = 0","/**\r\n * Created by rated on 27.01.2018.\r\n */\r\nimport jwt from 'jsonwebtoken';\r\nimport env from 'dotenv';\r\n\r\nenv.config();\r\n\r\nasync function verifyAuth(ctx, next) {\r\n    const authorization = ctx.headers.authorization;\r\n    if(!authorization || !authorization.match(/^Bearer\\s/)){\r\n        ctx.throw(403);\r\n    }\r\n    const token = authorization.replace(/^Bearer\\s/, '');\r\n    try{\r\n        const encode = await jwt.verify(token, process.env.JWT_KEY);\r\n        ctx.request.body.id = encode.id;\r\n        ctx.request.body.email = encode.email;\r\n        await next();\r\n    }catch(e){\r\n        console.log(e);\r\n        ctx.throw(403);\r\n    }\r\n}\r\n\r\nexport { verifyAuth as default };\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/authMiddleware.js","//import Joi from 'joi';\r\n//import schema from './schema';\r\nimport Sequelize from 'sequelize';\r\nimport db from '../../db.js';\r\nimport Project from '../project/model';\r\n\r\nconst Task = db.define('tasks', {\r\n    id: {\r\n        type: Sequelize.INTEGER,\r\n        primaryKey: true,\r\n        autoIncrement: true,\r\n    },\r\n    name: {\r\n        type: Sequelize.STRING,\r\n        notNull: true\r\n    },\r\n    status: {\r\n        type: Sequelize.BOOLEAN,\r\n        allowNull: false,\r\n        defaultValue: false\r\n    },\r\n    position: {\r\n        type: Sequelize.INTEGER,\r\n        allowNull: true,\r\n        defaultValue: null\r\n    },\r\n    project_id: {\r\n        type: Sequelize.INTEGER,\r\n        references: {\r\n            model: Project,\r\n            key: 'id',\r\n            deferrable: Sequelize.Deferrable.INITIALLY_IMMEDIATE\r\n        }\r\n    }\r\n});\r\n\r\n// Task.belongsToMany(Project, {as: \"projects\", through: \"project_tasks\", foreignKey: 'project_id', otherKey: \"task_id\"});\r\n// Task.belongsTo(Project);\r\n\r\nexport default Task;\n\n\n// WEBPACK FOOTER //\n// ./src/models/task/model.js","/**\r\n * Created by rated on 28.01.2018.\r\n */\r\nimport User from '../models/user/model';\r\nimport bcrypt from 'bcrypt';\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nexport default class UserController{\r\n    static async login(ctx){\r\n        const user = await User.findOne({\r\n            where: {\r\n                email: ctx.request.body.email\r\n            }\r\n        });\r\n        if(!user) return ctx.throw(404);\r\n        try{\r\n            const compare = await bcrypt.compare(ctx.request.body.password, user.password);\r\n            if(compare){\r\n                const token = await jwt.sign({\r\n                    id: user.id,\r\n                    email: user.email\r\n                }, process.env.JWT_KEY, {\r\n                    expiresIn: \"3h\"\r\n                });\r\n                return ctx.body = {token: token};\r\n            } else {\r\n                return ctx.throw(409);\r\n            }\r\n        }catch(e){\r\n            console.log(e);\r\n            return ctx.throw(403);\r\n        }\r\n    }\r\n    static async register(ctx){\r\n        try {\r\n            const hash = await bcrypt.hash(ctx.request.body.password, 10);\r\n            const user = await User.create({\r\n                name: ctx.request.body.name,\r\n                email: ctx.request.body.email,\r\n                password: hash\r\n            });\r\n            return ctx.status = 200;\r\n        } catch (e) {\r\n            console.log(e);\r\n            return ctx.throw(500, {\r\n                error: e\r\n            });\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/controllers/user.js","/**\r\n * Created by rated on 28.01.2018.\r\n */\r\nimport Project from '../models/project/model';\r\nimport Task from '../models/task/model';\r\n\r\nexport default class ProjectController{\r\n    static async create(ctx){\r\n        console.log(ctx.request.body);\r\n        try{\r\n            const project = await Project.create({\r\n                name: ctx.request.body.name,\r\n                user_id: ctx.request.body.id\r\n            });\r\n            return ctx.body = project;\r\n        }catch(e){\r\n            console.log(e);\r\n            return ctx.throw(400)\r\n        }\r\n    }\r\n    static async update(ctx){\r\n        console.log(ctx.request.body);\r\n        try{\r\n            const project = await Project.update({\r\n                name: ctx.request.body.name\r\n            },{\r\n                where: {\r\n                    user_id: ctx.request.body.id,\r\n                    id: ctx.request.body.project_id\r\n                }\r\n            });\r\n            return ctx.body = project;\r\n        }catch(e){\r\n            return ctx.throw(403);\r\n        }\r\n    }\r\n    static async delete(ctx){\r\n        console.log(ctx.params.id);\r\n        try{\r\n            const project = await Project.destroy({\r\n                where: {\r\n                    id: ctx.params.id,\r\n                    user_id: ctx.request.body.id\r\n                }\r\n            });\r\n            return ctx.body = project;\r\n        }catch(e){\r\n            console.log(e);\r\n            return ctx.throw(403);\r\n        }\r\n    }\r\n    static async getProjectsWithTasks(ctx){\r\n        const projects = await Project.findAll({\r\n            where: {\r\n                user_id: ctx.request.body.id\r\n            },\r\n            include: [\r\n                {\r\n                    model: Task,\r\n                    as: 'ProjectTasks'\r\n                }\r\n            ],\r\n            order: [\r\n                ['id', 'DESC']\r\n            ]\r\n        });\r\n        console.log(projects);\r\n        ctx.body = projects;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/controllers/project.js","/**\r\n * Created by rated on 28.01.2018.\r\n */\r\nimport Project from '../models/project/model';\r\nimport Task from '../models/task/model';\r\n\r\nexport default class TaskController{\r\n    static async create(ctx){\r\n        // const project = await TaskController.verifyProject(ctx);\r\n        // if(!project) return ctx.throw(403);\r\n        try{\r\n            const task = await Task.create({\r\n                name: ctx.request.body.name,\r\n                project_id: ctx.request.body.project_id\r\n            });\r\n            ctx.body = task;\r\n        }catch(e){\r\n            console.log(e);\r\n            ctx.throw(400);\r\n        }\r\n    }\r\n    static async updateName(ctx){\r\n        const project = await TaskController.verifyProject(ctx);\r\n        if(!project) return ctx.throw(403);\r\n        try{\r\n            const task = await Task.create({\r\n                name: ctx.request.body.name,\r\n                project_id: ctx.request.body.project_id\r\n            });\r\n            ctx.body = task;\r\n        }catch(e){\r\n            console.log(e);\r\n            ctx.throw(400);\r\n        }\r\n    }\r\n    static async delete(ctx){\r\n        const project = await TaskController.verifyProject(ctx);\r\n        if(!project) return ctx.throw(403);\r\n        try{\r\n            const task = await Task.destroy({\r\n                where: {\r\n                    id: ctx.params.task_id,\r\n                    project_id: ctx.params.project_id\r\n                }\r\n            });\r\n            return ctx.body = task;\r\n        }catch(e){\r\n            console.log(e);\r\n            ctx.throw(400);\r\n        }\r\n    }\r\n    static async changePosition(ctx){\r\n        const project = await TaskController.verifyProject(ctx);\r\n        if(!project) return ctx.throw(403);\r\n        try{\r\n            const task = await Task.update({\r\n                    position: ctx.request.body.position,\r\n                },\r\n                {\r\n                    where: {\r\n                        project_id: ctx.request.body.project_id,\r\n                        id: ctx.request.body.task_id\r\n                    }\r\n                }\r\n            );\r\n            if(task[0]){\r\n                return ctx.body = task;\r\n            }else{\r\n                return ctx.throw(403);\r\n            }\r\n        }catch(e){\r\n            console.log(e);\r\n            ctx.throw(400);\r\n        }\r\n    }\r\n    static async changeStatus(ctx){\r\n        const project = await TaskController.verifyProject(ctx);\r\n        if(!project) return ctx.throw(403);\r\n        try{\r\n            const task = await Task.update({\r\n                    status: ctx.request.body.status,\r\n                },\r\n                {\r\n                    where: {\r\n                        project_id: ctx.request.body.project_id,\r\n                        id: ctx.request.body.task_id\r\n                    }\r\n                }\r\n            );\r\n            if(task[0]){\r\n                return ctx.body = task;\r\n            }else{\r\n                return ctx.throw(403);\r\n            }\r\n        }catch(e){\r\n            console.log(e);\r\n            ctx.throw(400);\r\n        }\r\n    }\r\n    static async verifyProject(ctx){\r\n        const project = await Project.findOne({\r\n            where: {\r\n                id: ctx.request.body.project_id,\r\n                user_id: ctx.request.body.id\r\n            }\r\n        });\r\n        return project;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/controllers/task.js","/**\n * CORS middleware for koa2\n *\n * @param {Object} [options]\n *  - {String|Function(ctx)} origin `Access-Control-Allow-Origin`, default is request Origin header\n *  - {Array} exposeHeaders `Access-Control-Expose-Headers`\n *  - {String|Number} maxAge `Access-Control-Max-Age` in seconds\n *  - {Boolean} credentials `Access-Control-Allow-Credentials`\n *  - {Array} allowMethods `Access-Control-Allow-Methods`, default is ['GET', 'PUT', 'POST', 'DELETE', 'HEAD', 'OPTIONS']\n *  - {Array} allowHeaders `Access-Control-Allow-Headers`\n * @return {Function}\n * @api public\n */\nmodule.exports = function crossOrigin(options = {}) {\n  const defaultOptions = {\n    allowMethods: ['GET', 'PUT', 'POST', 'PATCH', 'DELETE', 'HEAD', 'OPTIONS']\n  };\n\n  // set defaultOptions to options\n  for (let key in defaultOptions) {\n    if (!Object.prototype.hasOwnProperty.call(options, key)) {\n      options[key] = defaultOptions[key];\n    }\n  }\n\n  return async function (ctx, next) {\n    let origin;\n    if (typeof options.origin === 'function') {\n      origin = options.origin(ctx);\n    } else {\n      origin = options.origin || ctx.get('Origin') || '*';\n    }\n    if (!origin) {\n      return await next();\n    }\n\n    // Access-Control-Allow-Origin\n    ctx.set('Access-Control-Allow-Origin', origin);\n\n    if (ctx.method === 'OPTIONS') {\n      // Preflight Request\n      if (!ctx.get('Access-Control-Request-Method')) {\n        return await next();\n      }\n\n      // Access-Control-Max-Age\n      if (options.maxAge) {\n        ctx.set('Access-Control-Max-Age', String(options.maxAge));\n      }\n\n      // Access-Control-Allow-Credentials\n      if (options.credentials === true) {\n        // When used as part of a response to a preflight request,\n        // this indicates whether or not the actual request can be made using credentials.\n        ctx.set('Access-Control-Allow-Credentials', 'true');\n      }\n\n      // Access-Control-Allow-Methods\n      if (options.allowMethods) {\n        ctx.set('Access-Control-Allow-Methods', options.allowMethods.join(','));\n      }\n\n      // Access-Control-Allow-Headers\n      if (options.allowHeaders) {\n        ctx.set('Access-Control-Allow-Headers', options.allowHeaders.join(','));\n      } else {\n        ctx.set('Access-Control-Allow-Headers', ctx.get('Access-Control-Request-Headers'));\n      }\n\n      ctx.status = 204; // No Content\n    } else {\n      // Request\n      // Access-Control-Allow-Credentials\n      if (options.credentials === true) {\n        if (origin === '*') {\n          // `credentials` can't be true when the `origin` is set to `*`\n          ctx.remove('Access-Control-Allow-Credentials');\n        } else {\n          ctx.set('Access-Control-Allow-Credentials', 'true');\n        }\n      }\n\n      // Access-Control-Expose-Headers\n      if (options.exposeHeaders) {\n        ctx.set('Access-Control-Expose-Headers', options.exposeHeaders.join(','));\n      }\n\n      try {\n        await next();\n      } catch (err) {\n        throw err;\n      }\n    }\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/koa2-cors/dist/index.js\n// module id = 21\n// module chunks = 0"],"sourceRoot":""}